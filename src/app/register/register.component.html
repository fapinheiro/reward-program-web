<div class="register-container">
    <h2>User Registration</h2>
    <form (ngSubmit)="onSubmit()" #registerForm="ngForm">
        <div class="form-row">
            <div class="form-group col-md-6">
                <mat-form-field class="form-full-width">
                    <label for="inputEmail">Email</label>
                    <input matInput type="email" class="form-control" id="inputEmail" name="inputEmail" maxlength="100" ngModel required autofocus email>
                    <mat-error *ngIf="!isFormValid()">
                        Email is
                        <strong>required</strong>
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="form-group col-md-6">
                <mat-form-field class="form-full-width">
                    <label for="inputPassword">Password</label>
                    <input matInput type="password" class="form-control" id="inputPassword" name="inputPassword" maxlength="10" ngModel required>
                    <mat-error *ngIf="!isFormValid()">
                        Password is
                        <strong>required</strong>
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="form-group">
            <mat-form-field class="form-full-width">
                <label for="inputName">Name</label>
                <input matInput type="text" class="form-control" id="inputName" name="inputName" maxlength="100" pattern="[a-zA-Z]+" ngModel required>
                <mat-error *ngIf="!isFormValid()">
                    Name is
                    <strong>required. </strong>
                    Numbers is not permited.
                </mat-error>
            </mat-form-field>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <mat-form-field class="form-full-width">
                    <label for="inputNIF">NIF</label>
                    <input matInput type="text" class="form-control" id="inputNIF" name="inputNIF" maxlength="10" pattern="[0-9]+" ngModel required>
                    <mat-error *ngIf="!isFormValid()">
                        NIF is
                        <strong>required. </strong>
                        Only numbers is permited.
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="form-group col-md-6">
                <mat-form-field class="form-full-width">
                    <label for="inputCode">Postal Code</label>
                    <input  #searchPostalCode 
                            matInput 
                            type="text" 
                            class="form-control" 
                            id="inputCode" 
                            name="inputCode" 
                            maxlength="10" 
                            pattern="[0-9]+"
                            (keyup)="onPostalCodeKeyUp(searchPostalCode.value)" 
                            [(ngModel)]="postalCodeSelected.codigoPostal" 
                            required>
                    <mat-error *ngIf="!isFormValid()">
                        PostalCode is
                        <strong>required. </strong>
                        Only numbers is permited.
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="form-group">
            <mat-form-field class="form-full-width">
                <label for="inputAddress">Address</label>
                <mat-select 
                    id="inputAddress" 
                    class="form-control" 
                    name="inputAddress" 
                    ngModel
                    required>
                    <mat-option value="option">Choose...</mat-option>
                    <mat-option *ngFor="let postalCode of postalCodesList$ | async" value="option" (click)="onPostalCodeSelected(postalCode)">{{postalCode.localidade}}</mat-option>
                </mat-select>
                <mat-error *ngIf="!isFormValid()">
                    Address is
                    <strong>required</strong>
                </mat-error>
            </mat-form-field>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <mat-form-field class="form-full-width">
                    <label for="inputDistrict">District</label>
                    <input  matInput 
                            type="text" 
                            class="form-control" 
                            id="inputDistrict" 
                            name="inputDistrict"
                            disabled 
                            [(ngModel)]="postalCodeSelected.concelho.distrito.nomeDistrito"
                            required>
                    <mat-error *ngIf="!isFormValid()">
                        District is
                        <strong>required</strong>
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="form-group col-md-6">
                <mat-form-field class="form-full-width">
                    <label for="inputConsoul">Consoul</label>
                    <input  matInput 
                            type="text" 
                            class="form-control" 
                            id="inputConsoul" 
                            name="inputConsoul"
                            disabled
                            [(ngModel)]="postalCodeSelected.concelho.nomeConcelho"
                            required>
                    <mat-error *ngIf="!isFormValid()">
                        Consoul is
                        <strong>required</strong>
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="form-row justify-content-end">
            <button type="reset" mat-button class="btn btn-secondary">Clear</button>
            <button type="submit" class="btn btn-primary ml-1" [disabled]="!isFormValid()">Sign in</button>
        </div>
    </form>
</div>
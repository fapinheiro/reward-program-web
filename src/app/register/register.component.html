<div class="register-container">
    <h2>User Registration</h2>
    <form (ngSubmit)="onSubmit()" #registerForm="ngForm">
        <div class="form-row">
            <div class="form-group col-md-6">
                <mat-form-field class="form-full-width">
                    <!-- <label for="inputEmail">Email</label> -->
                    <input matInput type="email" class="form-control" id="inputEmail" name="inputEmail" 
                        maxlength="100" 
                        [(ngModel)]="client.email" 
                        required
                        autofocus
                        cdkFocusInitial
                        placeholder="Email">
                    <mat-error *ngIf="!isFormValid()">
                        Email is
                        <strong>required</strong>
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="form-group col-md-6">
                <mat-form-field class="form-full-width">
                    <!-- <label for="inputPassword">Password</label> -->
                    <input matInput type="password" 
                        class="form-control" 
                        id="inputPassword" 
                        name="inputPassword" 
                        placeholder="Password"
                        maxlength="10" 
                        [(ngModel)]="client.password"  
                        required>
                    <mat-error *ngIf="!isFormValid()">
                        Password is
                        <strong>required</strong>
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <mat-form-field class="form-full-width">
                    <!-- <label for="inputName">Name</label> -->
                    <input matInput type="text" 
                        class="form-control" 
                        id="inputName" 
                        name="inputName" 
                        maxlength="100" 
                        pattern="[a-zA-Z\s]+" 
                        [(ngModel)]="client.name" 
                        required
                        placeholder="Name">
                    <mat-error *ngIf="!isFormValid()">
                        Name is
                        <strong>required. </strong>
                        Numbers is not permited.
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="form-group col-md-6">
                <mat-form-field class="form-full-width">
                    <!-- <label for="inputPhone">Phone</label> -->
                    <input matInput type="text" 
                        class="form-control" 
                        id="inputPhone" 
                        name="inputPhone" 
                        maxlength="20"
                        pattern="\+?[0-9]+" 
                        [(ngModel)]="client.phone"  
                        required
                        placeholder="Phone">
                    <mat-error *ngIf="!isFormValid()">
                        Phone is
                        <strong>required. </strong>
                        Only numbers is permited.
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <mat-form-field class="form-full-width">
                    <!-- <label for="inputNIF">NIF</label> -->
                    <input matInput type="text" 
                        class="form-control" 
                        id="inputNIF" 
                        name="inputNIF" 
                        maxlength="10"
                        pattern="[0-9]+" 
                        [(ngModel)]="client.nif"  
                        required
                        placeholder="NIF">
                    <mat-error *ngIf="!isFormValid()">
                        NIF is
                        <strong>required. </strong>
                        Only numbers is permited.
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="form-group col-md-6">
                <mat-form-field class="form-full-width">
                    <!-- <label for="inputCode">Postal Code</label> -->
                    <input  #searchPostalCode 
                            matInput 
                            type="text" 
                            class="form-control" 
                            id="inputCode" 
                            name="inputCode" 
                            maxlength="10" 
                            pattern="[0-9]+"
                            (keyup)="onPostalCodeKeyUp(searchPostalCode.value)" 
                            [(ngModel)]="postalCodeSelected.codigoPostal" 
                            required
                            placeholder="PostalCode">
                    <mat-error *ngIf="!isFormValid()">
                        PostalCode is
                        <strong>required. </strong>
                        Only numbers is permited.
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="form-group">
            <mat-form-field class="form-full-width">
                <!-- <label for="inputAddress">Address</label> -->
                <mat-label>Address</mat-label>
                <mat-select 
                    id="inputAddress" 
                    class="form-control" 
                    name="inputAddress" 
                    required>
                    <mat-option value="option">Choose...</mat-option>
                    <mat-option *ngFor="let postalCode of postalCodesList$ | async" value="option" 
                        (click)="onPostalCodeSelected(postalCode)">{{postalCode.localidade}}</mat-option>
                </mat-select>
                <mat-error *ngIf="!isFormValid()">
                    Address is
                    <strong>required</strong>
                </mat-error>
            </mat-form-field>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <mat-form-field class="form-full-width">
                    <!-- <label for="inputDistrict">District</label> -->
                    <input  matInput 
                            type="text" 
                            class="form-control" 
                            id="inputDistrict" 
                            name="inputDistrict"
                            disabled 
                            [(ngModel)]="postalCodeSelected.concelho.distrito.nomeDistrito"
                            required
                            placeholder="District">
                    <mat-error *ngIf="!isFormValid()">
                        District is
                        <strong>required</strong>
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="form-group col-md-6">
                <mat-form-field class="form-full-width">
                    <!-- <label for="inputConsoul">County</label> -->
                    <input  matInput 
                            type="text" 
                            class="form-control" 
                            id="inputCounty" 
                            name="inputCounty"
                            disabled
                            [(ngModel)]="postalCodeSelected.concelho.nomeConcelho"
                            required
                            placeholder="County">
                    <mat-error *ngIf="!isFormValid()">
                        County is
                        <strong>required</strong>
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="form-row">
            <button type="submit" class="btn btn-primary" [disabled]="!isFormValid()"><i class="material-icons align-bottom">input</i>Sign in</button>
            <button type="reset" mat-button class="btn btn-secondary ml-1"><i class="material-icons align-bottom">clear</i>Clear</button>
        </div>
    </form>
</div>